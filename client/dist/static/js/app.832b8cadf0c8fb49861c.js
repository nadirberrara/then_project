webpackJsonp([1],[,,,,function(t,e,s){"use strict";function n(t){return l.post("/signup",t).then(function(t){return t.data})}function a(t,e,s){return l.post("/login",{username:t,password:e}).then(function(t){var e=t.data,n=e.token,a=e.name;return localStorage.setItem("jwtToken",n),localStorage.setItem("user.name",a),r(s),t.data})}function i(){return l.get("/secret").then(function(t){return t.data})}function r(t){var e=localStorage.jwtToken,s=localStorage["user.name"];e&&(u.a.defaults.headers.common.Authorization="Bearer "+e,t.$root.user={token:e,name:s})}function o(t){localStorage.removeItem("jwtToken"),delete u.a.defaults.headers.common.Authorization,t.$root.user=null}var c=s(2),u=s.n(c),l=u.a.create({baseURL:"/api"});e.a={signup:n,login:a,logout:o,secret:i,loadUser:r}},,,,,,,function(t,e,s){function n(t){s(41)}var a=s(1)(s(37),s(56),n,"data-v-535fafeb",null);t.exports=a.exports},function(t,e,s){"use strict";var n=s(5),a=s(59),i=s(48),r=s.n(i),o=s(49),c=s.n(o),u=s(50),l=s.n(u),v=s(51),d=s.n(v),p=s(47),f=s.n(p);n.a.use(a.a),e.a=new a.a({mode:"history",routes:[{path:"/epics/:epicId",name:"Epic",component:r.a},{path:"/",name:"Home",component:c.a},{path:"/login",name:"Login",component:l.a},{path:"/signup",name:"Signup",component:d.a},{path:"/create",name:"Create",component:f.a}]})},function(t,e,s){function n(t){s(42)}var a=s(1)(s(31),s(57),n,null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4);e.default={name:"app",created:function(){n.a.loadUser(this)}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s.n(n),i=a.a.create({baseURL:"/api"});e.default={props:["stories","epicId"],data:function(){return{title:"",text:"",epic:"",bravo:!1,danger:!1}},methods:{createNewEpic:function(){var t=this;i.post("epics/",{mainStory:this.text,title:this.title}).then(function(e){t.title="",t.text="",t.bravo=!0,t.newEpic=e})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s.n(n),i=s(11),r=s.n(i),o=a.a.create({baseURL:"/api"});e.default={name:"hello",data:function(){return{text:"",epic:{},story:{},allStories:[],edit:!1}},created:function(){var t=this;this.getEpic(this.$route.params.epicId).then(function(e){t.epic=e}),this.getStories().then(function(e){t.allStories=e})},methods:{addNext:function(t){this.epic.nextStories.push(t)},getEpic:function(t){return o.get("/epics/"+t).then(function(t){return t.data})},getStories:function(){return console.log("this.$route",this.$route),o.get("/epics/"+this.$route.params.epicId+"/stories").then(function(t){return t.data})},cancelEditing:function(){this.edit=!1},addNewStory:function(){this.edit=!0},submitNewStory:function(){var t=this;this.edit=!1,o.post("/epics/"+this.epic._id+"/stories",{text:this.text}).then(function(e){return t.getStories().then(function(e){t.allStories=e}),e.data}),this.text=""}},components:{tagStories:r.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s.n(n);e.default={name:"hello",data:function(){return{msg:"WELCOME",epics:null}},created:function(){var t=this,e=a.a.create({baseURL:"/api"});(function(){return e.get("/epics/").then(function(t){return t.data})})().then(function(e){t.epics=e})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4);e.default={data:function(){return{error:"",loading:!1,username:"",password:""}},computed:{buttonClasses:function(){return{"is-loading":this.loading}}},methods:{login:function(){var t=this;this.error="",this.loading=!0,n.a.login(this.username,this.password).then(function(e){t.$router.push("/")}).catch(function(e){t.error=e.message}).then(function(){t.loading=!1})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4);e.default={data:function(){return{response:"",username:"",password:"",error:""}},methods:{signup:function(){var t=this;this.error="",n.a.signup({username:this.username,password:this.password}).then(function(e){t.response=e}).catch(function(e){t.error=e.response.data})},login:function(){var t=this;n.a.login(this.username,this.password,this).then(function(e){t.response=e}).catch(function(e){t.error=e})},secret:function(){var t=this;n.a.secret().then(function(e){t.response=e}).catch(function(e){t.response=e})},logout:function(){n.a.logout(this)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),a=s.n(n),i=s(11),r=(s.n(i),a.a.create({baseURL:"/api"}));e.default={props:["stories","epicId"],data:function(){return{styles:{"word-break":"break-word"}}},methods:{selectRandomStory:function(){var t=this,e=this.stories[Math.floor(Math.random()*this.stories.length)];r.post("/epics/"+this.epicId+"/stories",{text:e.text}).then(function(e){return t.randomStory})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),a=s(13),i=s.n(a),r=s(12);n.a.config.productionTip=!1,new n.a({el:"#app",router:r.a,data:{user:null},template:"<App/>",components:{App:i.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,s){t.exports=s.p+"static/img/logo3-copie2.162698b.png"},function(t,e,s){function n(t){s(43)}var a=s(1)(s(32),s(58),n,"data-v-793aa714",null);t.exports=a.exports},function(t,e,s){function n(t){s(39)}var a=s(1)(s(33),s(52),n,"data-v-03d656c6",null);t.exports=a.exports},function(t,e,s){function n(t){s(40)}var a=s(1)(s(34),s(53),n,"data-v-07c1b177",null);t.exports=a.exports},function(t,e,s){var n=s(1)(s(35),s(55),null,null,null);t.exports=n.exports},function(t,e,s){var n=s(1)(s(36),s(54),null,null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero"},[s("div",{},[t.epic&&t.allStories?s("div",{staticClass:"epic"},[s("div",{staticClass:"titre"},[s("i",[t._v("by Nadir ")]),t._v(" "),s("h3",{staticClass:"title"},[t._v(" "+t._s(t.epic.title)+" ")]),t._v(" "),s("p",[t._v("-")]),t._v(" "),s("p",[t._v(t._s(t.epic.mainStory))])]),t._v(" "),s("div",[s("div",{staticClass:"suite"},t._l(t.epic.nextStories,function(e){return s("p",[s("span",{staticClass:"blue"},[t._v("\n              then,\n            ")]),t._v(" "+t._s(e))])}))])]):t._e(),t._v(" "),s("div",{staticClass:"column is-gapless"},[t.edit?s("div",{staticClass:"addStory"},[s("span",{staticClass:"tag is-medium"},[t._v("then,")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"textarea is-medium",attrs:{name:"newStory",cols:"80",rows:"3"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),s("span",{staticClass:"tag is-medium"},[t._v("then,")]),t._v(" "),s("br"),s("br"),t._v(" "),s("button",{staticClass:"button",attrs:{type:"submit"},on:{click:function(e){t.submitNewStory()}}},[t._v(" submit my story ")]),t._v(" "),s("button",{staticClass:"button",attrs:{type:"submit"},on:{click:function(e){t.cancelEditing()}}},[t._v(" cancel ")])]):s("div",[s("div",{staticClass:"stories "},[s("div",[s("tag-stories",{attrs:{stories:t.allStories,epicId:t.epic._id},on:{nextStory:t.addNext}})],1)])])])]),t._v(" "),t.edit?t._e():s("div",{staticClass:"is-white andThenButton"},[s("button",{staticClass:"button is-large",on:{click:function(e){t.addNewStory()}}},[t._v("my then")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),t._m(1),t._v(" "),s("footer",{staticClass:"card-footer"},[s("router-link",{staticClass:"card-footer-item ",attrs:{to:"/signup"}},[t._v("Signup")]),t._v(" "),s("a",{staticClass:"card-footer-item ",attrs:{href:" "}},[t._v("Login")])],1)]),t._v(" "),s("div",{staticClass:"hero "},[t._m(2),t._v(" "),t._l(t.epics,function(e){return s("li",[s("router-link",{attrs:{to:"/epics/"+e._id}},[t._v(t._s(e.title))])],1)}),t._v(" "),t._m(3)],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"card-header"},[s("p",{staticClass:"card-header-title"},[t._v("\n                Then...\n            ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-content"},[s("div",{staticClass:"content"},[s("h1",[t._v("Rules :")]),t._v(" "),s("li",[t._v("Login or Signup")]),t._v(" "),s("li",[t._v("Select a Story")]),t._v(" "),s("li",[t._v("Read and vote for your favorite propositions")]),t._v(" "),s("li",[t._v("Come back at 8am and pm")]),t._v(" "),s("li",[t._v("Create your own story and share with your friends")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"title "},[s("span",{staticClass:"fa fa-arrow-down "}),t._v(" Participate a Story\n            "),s("span",{staticClass:"fa fa-arrow-down "})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",{staticClass:"title "},[s("span",{staticClass:"fa fa-arrow-right "}),t._v(" "),s("a",{attrs:{href:"localhost:8080/create "}},[t._v("Or Create your Own Story ")]),t._v(" "),s("span",{staticClass:"fa fa-arrow-left "})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("article",{staticClass:"message is-danger"},[s("div",{staticClass:"message-body"},[t._v(t._s(t.error))])]):t._e(),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),s("pre",[t._v(t._s(t.response))]),t._v(" "),s("button",{staticClass:"button is-primary",on:{click:t.signup}},[t._v("Signup")]),t._v(" "),s("button",{staticClass:"button is-success",on:{click:t.login}},[t._v("Login")]),t._v(" "),s("button",{staticClass:"button is-danger",on:{click:t.logout}},[t._v("Logout")]),t._v(" "),s("button",{staticClass:"button is-warning",on:{click:t.secret}},[t._v("Secret")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Name")]),t._v(" "),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text"}})])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("b-notification",{attrs:{type:"is-danger",closable:!1}},[t._v(t._s(t.error))]):t._e(),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[s("b-field",{attrs:{label:"Username"}},[s("b-input",{attrs:{type:"text",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("b-field",{attrs:{label:"Password"}},[s("b-input",{attrs:{type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),s("button",{staticClass:"button is-primary",class:t.buttonClasses},[t._v("Login")])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("div",{staticClass:"block scroll"},t._l(t.stories,function(e){return s("table",{staticClass:"table"},[s("tbody",{style:t.styles},[s("tr",[s("strong"),t._v(" "),s("th",[t._v("then, "+t._s(e.text))])])])])}))])},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"hero hero-head"},[s("header",{staticClass:"nav"},[s("div",{staticClass:"container"},[s("div",{staticClass:"nav-left"},[s("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[t._v("\n            HOME\n            ")])],1),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"nav-right nav-menu"},[s("router-link",{staticClass:"nav-item",attrs:{to:"/create"}},[t._v("\n            New Story\n          ")]),t._v(" "),s("router-link",{staticClass:"nav-item",attrs:{to:"/signup"}},[t._v("Signup")]),t._v(" "),t.$root.user?s("router-link",{staticClass:"nav-item",attrs:{to:"/login"}},[t._v("Login")]):t._e(),t._v(" "),s("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[t._v("About")])],1)])])]),t._v(" "),t._m(1),t._v(" "),s("section",{},[s("div",{},[s("router-view"),t._v(" "),s("hr"),t._v(" "),t._m(2)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"nav-toggle"},[s("span"),t._v(" "),s("span"),t._v(" "),s("span")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("img",{staticStyle:{width:"400px"},attrs:{src:s(46)}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{},[s("footer",[t._v(" @ Nadir BERRARA / IH Jun17 ")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("\n        CREATE YOUR STORY\n    ")]),t._v(" "),t.bravo?s("div",{staticClass:"notification is-primary"},[t._v("\n        Your story was added successfully\n    ")]):t._e(),t._v(" "),t.danger?s("div",{staticClass:"notification is-danger"},[t._v("\n        Informations missing\n    ")]):t._e(),t._v(" "),s("div",[s("p",[t._v("Choose a title :")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"button is-large",attrs:{type:"text"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"story"},[s("p",[t._v("Start your story:")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"textarea is-medium",attrs:{name:"",id:"",cols:"30",rows:"2",placeholder:""},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),s("div",[s("button",{staticClass:"button submit",on:{click:function(e){t.createNewEpic()}}},[t._v("Submit my story")])])])},staticRenderFns:[]}}],[38]);
//# sourceMappingURL=app.832b8cadf0c8fb49861c.js.map